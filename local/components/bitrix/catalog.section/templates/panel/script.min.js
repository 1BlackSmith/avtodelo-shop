!function(t,i,e){"use strict";t.JCWishlistPanel=function(t,i){this.$block=e("#"+t),this.params=i,this.init()},e.extend(t.JCWishlistPanel.prototype,{init:function(){var i=this;this.$block.find('[data-entity="remove-item"]').on("click",function(){var t=e(this).closest('[data-entity="item"]').data("id");"string"!=typeof t&&(t=t.toString()),i.removeItem(t)}),BX.addCustomEvent(t,"change.rs_favorite",function(){e('.js-global-favorite[data-type="ajax"][data-need-cache="Y"]').attr("data-need-reload","Y")})},removeItem:function(i){if(i){var a=t.location.href,o={action:"add2wishlist"};o.element_id=i,o.sessid=BX.bitrix_sessid(),this.$block.addClass("overlay"),e.post(a,o,e.proxy(function(t){RS.Favorite.remove(i),BX.onCustomEvent("change.rs_favorite"),this.$block.find('[data-entity="item"][data-id="'+i+'"]').remove(),this.$block.removeClass("overlay")},this))}},update:function(){}})}(window,document,jQuery);