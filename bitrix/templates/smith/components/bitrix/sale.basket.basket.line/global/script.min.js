!function(t,e,s){"use strict";var a;(t.RS||(t.RS={}),t.RS.GlobalCart)||(RS.GlobalBasket=function(e,a,i,o){this.itemRemoved=!1,this.siteId=e,this.templateName=a,this.arParams=o,this.ajaxPath=i,s.addCustomEvent(t,"OnBasketChange",this.refresh.bind(this))},RS.GlobalBasket.init=function(t,e,s,i){return a||(a=new RS.GlobalBasket(t,e,s,i)),a},RS.GlobalBasket.prototype={refresh:function(t){this.itemRemoved?this.itemRemoved=!1:((t=t||{}).sessid=s.bitrix_sessid(),t.siteId=this.siteId,t.templateName=this.templateName,t.arParams=this.arParams,s.ajax({url:this.ajaxPath,method:"POST",dataType:"json",data:t,onsuccess:this.updateBlocks}))},updateBlocks:function(t){var s=e.querySelectorAll(".js-global-cart");if(void 0!==s)for(var a=0;a<s.length;a++){var i=s[a],o=i.querySelector(".js-global-cart__count");t.numProducts>0?i.classList.add("has-items"):i.classList.remove("has-items"),o&&(o.innerHTML=t.numProducts)}},removeItemFromCart:function(t){this.refreshCart({sbblRemoveItemFromCart:t}),this.itemRemoved=!0,s.onCustomEvent("OnBasketChange")}})}(window,document,BX);